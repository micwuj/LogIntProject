{% extends 'base.html' %}
{% load static %}
{% block content %}

<h1> History </h1>

<div class="mb-2 bg-link-light text-white">
    <table class="table table-striped table-light table-hover">
        <thead>
          <tr>
            <th class="align-middle">Type</th>
            <th class="align-middle">Name</th>
            <th class="align-middle">Operation</th>
            <th class="align-middle">Date</th>
          </tr>
        </thead>
        {% if historys %}
        <tbody>
          {% for history in historys %}
          <tr>
              <td class="align-middle">{{ history.type }}</td>
              <td class="align-middle">{{ history.name }}</td>
              <td class="align-middle">{{ history.operation }}</td>
              <td class="align-middle">{{ history.operation_date | date:"Y-m-d" }}</td>
          </tr>
          {% endfor %}  
        </tbody>
      </table>               

      <nav aria-label="Page navigation example">
        {% if historys.has_other_pages %}
            <ul class="pagination">
                <li class="page-item {% if not historys.has_previous %}disabled{% endif %}">
                    <a href="{% if historys.has_previous %}?page=1{% endif %}" class="page-link" {% if not historys.has_previous %}tabindex="-1" aria-disabled="true"{% endif %}>&laquo; First</a>
                </li>
                <li class="page-item {% if not historys.has_previous %}disabled{% endif %}">
                    <a href="{% if historys.has_previous %}?page={{historys.previous_page_number}}{% endif %}" class="page-link" {% if not historys.has_previous %}tabindex="-1" aria-disabled="true"{% endif %}>&lsaquo;</a>
                </li>
                
                {% for i in historys.paginator.page_range %}
                    {% if i == historys.number %}
                        <li class="page-item active"><span class="page-link">{{ i }}</span></li>
                    {% elif i > historys.number|add:'-3' and i < historys.number|add:'3' %}
                        <li class="page-item"><a href="?page={{ i }}" class="page-link">{{ i }}</a></li>
                    {% elif i == historys.number|add:'-3' or i == historys.number|add:'3' %}
                        <li class="page-item disabled"><span class="page-link">...</span></li>
                    {% endif %}
                {% endfor %}
                
                <li class="page-item {% if not historys.has_next %}disabled{% endif %}">
                    <a href="{% if historys.has_next %}?page={{historys.next_page_number}}{% endif %}" class="page-link" {% if not historys.has_next %}tabindex="-1" aria-disabled="true"{% endif %}> &rsaquo;</a>
                </li>
                <li class="page-item {% if not historys.has_next %}disabled{% endif %}">
                    <a href="{% if historys.has_next %}?page={{historys.paginator.num_pages}}{% endif %}" class="page-link" {% if not historys.has_next %}tabindex="-1" aria-disabled="true"{% endif %}>Last &raquo;</a>
                </li>
            </ul>
        {% endif %}
    </nav>
    
    
    
      {% endif %}
</div>

{% endblock %}


